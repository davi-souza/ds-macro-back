(function(t){function e(e){for(var n,s,i=e[0],c=e[1],d=e[2],m=0,u=[];m<i.length;m++)s=i[m],o[s]&&u.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(u.length)u.shift()();return r.push.apply(r,d||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==o[c]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},o={1:0},r=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var d=0;d<i.length;d++)e(i[d]);var l=c;r.push([8,0]),a()})({"+YNV":function(t,e,a){"use strict";var n=a("z4wm"),o=a.n(n);o.a},"0RpS":function(t,e,a){},"7vno":function(t,e,a){},8:function(t,e,a){t.exports=a("Vtdi")},"8rJu":function(t,e,a){},"9iiP":function(t,e,a){"use strict";var n=a("LgSU"),o=a.n(n);o.a},AKi8:function(t,e,a){},COWx:function(t,e,a){"use strict";var n=a("0RpS"),o=a.n(n);o.a},LgSU:function(t,e,a){},QUWP:function(t,e,a){"use strict";var n=a("8rJu"),o=a.n(n);o.a},Vtdi:function(t,e,a){"use strict";a.r(e);var n=a("Kw5r"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},r=[],s=a("L2JU"),i={name:"App",mounted:function(){this.getMacrosFromIndexedDB()},methods:{...Object(s["b"])(["getMacrosFromIndexedDB"])}},c=i,d=(a("nNx0"),a("KHd+")),l=Object(d["a"])(c,o,r,!1,null,null,null),m=l.exports,u=a("jE9Z"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("simple-app-bar"),a("grid-body",[a("macro-table",{attrs:{macros:t.macros}}),a("corner-speed-dial",{attrs:{main:t.speeddial.main,options:t.speeddial.options}})],1)],1)},f=[],b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ds-simple-app-bar"},[a("md-app",[a("md-app-toolbar",{staticClass:"md-primary"},[t.links?a("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.menuVisible=!t.menuVisible}}},[a("md-icon",[t._v("menu")])],1):t._e(),t.title?a("span",{staticClass:"md-title"},[t._v(t._s(t.title))]):a("span",{staticClass:"md-title"},[t._v("DSM")])],1)],1),a("md-drawer",{attrs:{"md-active":t.menuVisible},on:{"update:mdActive":function(e){t.menuVisible=e}}},[a("md-toolbar",{staticClass:"md-primary",attrs:{"md-elevation":"0"}},[a("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.menuVisible=!t.menuVisible}}},[a("md-icon",[t._v("menu")])],1),a("span",{staticClass:"md-title"},[t._v(t._s(t.title))])],1),t._l(t.links,function(e){return a("md-list",{key:e.name},[a("md-list-item",{attrs:{to:e.to}},[a("md-icon",[t._v(t._s(e.icon))]),a("span",{staticClass:"md-list-item-text"},[t._v(t._s(e.name))])],1)],1)})],2)],1)},v=[],_={name:"SimpleAppBar",props:["title","links"],data:()=>({menuVisible:!1})},h=_,g=(a("+YNV"),Object(d["a"])(h,b,v,!1,null,"0c0281ec",null)),w=g.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ds-grid-body"},[a("div",{staticClass:"md-layout md-alignment-top-center"},[a("div",{staticClass:"md-layout-item md-xsmall-size-95 md-small-size-85 md-medium-size-75 md-large-size-65 md-xlarge-size-50"},[t._t("default")],2)])])},x=[],y=(a("zfKo"),{}),O=Object(d["a"])(y,C,x,!1,null,"aba6f20e",null),S=O.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ds-simple-card"},[a("md-card",[a("md-card-content",[t._t("default")],2)],1)],1)},M=[],j=(a("COWx"),{}),B=Object(d["a"])(j,D,M,!1,null,"e4b53ec2",null),k=B.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ds-simple-table"},[a("md-table",{attrs:{"md-card":""}},[a("md-table-row",[a("md-table-head",[t._v("carb (g)")]),a("md-table-head",[t._v("prot (g)")]),a("md-table-head",[t._v("fat (g)")]),a("md-table-head",[t._v("kcal")])],1),a("md-table-row",[a("md-table-cell",[t._v(t._s(t.macros.carb))]),a("md-table-cell",[t._v(t._s(t.macros.prot))]),a("md-table-cell",[t._v(t._s(t.macros.fat))]),a("md-table-cell",[t._v(t._s(4*t.macros.carb+4*t.macros.prot+9*t.macros.fat))])],1)],1)],1)},E=[],z={name:"MacroTable",props:["macros"]},I=z,R=(a("b7Bc"),Object(d["a"])(I,A,E,!1,null,"6bf67ada",null)),P=R.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ds-corner-speed-dial"},[a("md-speed-dial",{attrs:{"md-event":"click","md-direction":"top"}},[a("md-speed-dial-target",{staticClass:"md-accent",attrs:{title:"More options"}},[a("md-icon",[t._v(t._s(t.main))])],1),t._l(t.options,function(e){return a("md-speed-dial-content",{key:e.icon},[a("md-button",{staticClass:"md-icon-button md-raised md-accent",attrs:{to:e.to}},[a("md-icon",[t._v(t._s(e.icon))])],1)],1)})],2)],1)},$=[],G={name:"CornerSpeedDial",props:["main","options"]},T=G,L=(a("9iiP"),Object(d["a"])(T,V,$,!1,null,"68ca7d05",null)),F=L.exports,K={name:"Home",components:{SimpleAppBar:w,GridBody:S,SimpleCard:k,MacroTable:P,CornerSpeedDial:F},data:()=>({speeddial:{main:"more_vert",options:[{icon:"add",to:"/macro/add"}]}}),computed:Object(s["c"])(["macros"])},N=K,U=Object(d["a"])(N,p,f,!1,null,null,null),J=U.exports,Q=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},W=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v("about")])])}],H={},X=Object(d["a"])(H,Q,W,!1,null,null,null),Y=X.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"macro-add"},[a("simple-app-bar"),a("grid-body",[a("simple-card",[a("div",{staticClass:"md-layout md-alignment-center-space-around"},[a("div",{staticClass:"md-layout-item md-size-100 ds-macro-add-total-kcal"},[a("span",{staticClass:"md-display-1"},[t._v(t._s(4*t.carb+4*t.prot+9*t.fat)+" kcal")])]),a("div",{staticClass:"md-layout-item md-size-30"},[a("md-field",[a("label",[t._v("CARB (g)")]),a("md-input",{attrs:{type:"number"},model:{value:t.carb,callback:function(e){t.carb=t._n(e)},expression:"carb"}})],1)],1),a("div",{staticClass:"md-layout-item md-size-30"},[a("md-field",[a("label",[t._v("PROT (g)")]),a("md-input",{attrs:{type:"number"},model:{value:t.prot,callback:function(e){t.prot=t._n(e)},expression:"prot"}})],1)],1),a("div",{staticClass:"md-layout-item md-size-30"},[a("md-field",[a("label",[t._v("FAT (g)")]),a("md-input",{attrs:{type:"number"},model:{value:t.fat,callback:function(e){t.fat=t._n(e)},expression:"fat"}})],1)],1),a("div",{staticClass:"md-layout-item md-size-45"},[a("md-button",{staticClass:"md-raised md-accent",on:{click:function(e){t.addMacros({carb:t.carb,prot:t.prot,fat:t.fat}),t.eraseMacros()}}},[t._v("Add")])],1)])]),a("corner-speed-dial",{attrs:{main:t.speeddial.main,options:t.speeddial.options}})],1)],1)},q=[],tt={name:"MacroAdd",components:{SimpleAppBar:w,GridBody:S,SimpleCard:k,CornerSpeedDial:F},data:()=>({carb:null,prot:null,fat:null,speeddial:{main:"more_vert",options:[{icon:"home",to:"/"}]}}),methods:{eraseMacros:function(t){this.carb=this.prot=this.fat=0},...Object(s["b"])(["addMacros"])}},et=tt,at=(a("QUWP"),Object(d["a"])(et,Z,q,!1,null,"c52f08d8",null)),nt=at.exports;n["default"].use(u["a"]);var ot=new u["a"]({mode:"history",routes:[{path:"/",name:"home",component:J},{path:"/macro/add",name:"macroadd",component:nt},{path:"/about",name:"about",component:Y}]});n["default"].use(s["a"]);var rt=new s["a"].Store({state:{carb:-1,prot:-1,fat:-1},getters:{macros:t=>({carb:t.carb,prot:t.prot,fat:t.fat})},mutations:{GETMACROSFROMINDEXEDDB(t){let e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,a=e.open("test-db1",1);a.onupgradeneeded=function(){let t=a.result;t.createObjectStore("macros",{keyPath:"id"});console.log("[LOG] Indexed DB upgraded!")},a.onsuccess=function(){let e=a.result,n=e.transaction("macros","readwrite"),o=n.objectStore("macros"),r=o.get(0);r.onsuccess=function(){if(r.result)t.carb=r.result.carb,t.prot=r.result.prot,t.fat=r.result.fat,console.log("[LOG] Macros loaded!");else{let e=o.add({id:0,carb:0,fat:0,prot:0});e.onsuccess=function(){t.carb=0,t.prot=0,t.fat=0,console.log("[LOG] Macros created!")}}},n.oncomplete=function(){e.close()}}},ADDMACROS(t,e){let a=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,n=a.open("test-db1",1);n.onupgradeneeded=function(){let t=n.result;t.createObjectStore("macros",{keyPath:"id"});console.log("[LOG] Indexed DB upgraded!")},n.onsuccess=function(){let a=n.result,o=a.transaction("macros","readwrite"),r=o.objectStore("macros"),s=r.get(0);s.onsuccess=function(){let a=s.result;a.carb+=e.carb,a.prot+=e.prot,a.fat+=e.fat;let n=r.put(a);n.onsuccess=function(){t.carb=a.carb,t.prot=a.prot,t.fat=a.fat,console.log("[LOG] Macros updated!")}},o.oncomplete=function(){a.close()}}},ERASEMACROS(t){t.carb=0,t.prot=0,t.fat=0}},actions:{addMacros:({commit:t},e)=>t("ADDMACROS",e),eraseMacros:({commit:t})=>t("ERASEMACROS"),getMacrosFromIndexedDB:({commit:t})=>t("GETMACROSFROMINDEXEDDB")}}),st=a("Q/mQ"),it=a.n(st);a("Ud79");n["default"].use(it.a),n["default"].config.productionTip=!1,new n["default"]({router:ot,store:rt,render:t=>t(m)}).$mount("#app")},b7Bc:function(t,e,a){"use strict";var n=a("7vno"),o=a.n(n);o.a},boi5:function(t,e,a){},nNx0:function(t,e,a){"use strict";var n=a("boi5"),o=a.n(n);o.a},z4wm:function(t,e,a){},zfKo:function(t,e,a){"use strict";var n=a("AKi8"),o=a.n(n);o.a}});
//# sourceMappingURL=app.08962f8b.js.map